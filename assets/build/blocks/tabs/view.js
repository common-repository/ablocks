(()=>{"use strict";const t=class{constructor(t,e={}){this.tabs=t;const s=this.getDataSettings();this.settings={...this.getDefaultSettings(),...s,...e},this.elements=this.getElements(),this.eventListeners=[],this.bindEvents(),this.defaultActiveTab()}getDefaultSettings(){return{selectors:{tabTitle:".ablocks-block-tabs__tab",tabContent:".ablocks-block--tabs-child"},classes:{activeTitle:"ablocks-block-tabs__tab--active",activeContent:"ablocks-block--tabs-child--active"},toggleSelf:!0,hidePrevious:!0,autoExpand:!0,initialOpen:0}}getDataSettings(){return{initialOpen:parseInt(this.tabs.getAttribute("data-initial-open"))||0}}getElements(){const{tabTitle:t,tabContent:e}=this.settings.selectors;return{tabTitles:this.queryElements(t),tabContents:this.queryElements(e)}}queryElements(t){return Array.from(this.tabs.querySelectorAll(t))}bindEvents(){this.elements.tabTitles.forEach((t=>{const e=e=>{e.preventDefault();const s=t.getAttribute("data-tab");this.changeActiveTab(s)};t.addEventListener("click",e),this.eventListeners.push({element:t,handler:e})}))}changeActiveTab(t){this.isActiveTab(t)||(this.deactivateAllTabs(),this.activateTab(t))}isActiveTab(t){const{activeTitle:e}=this.settings.classes,s=this.elements.tabTitles.find((e=>e.getAttribute("data-tab")===t));return s&&s.classList.contains(e)}deactivateAllTabs(){this.elements.tabTitles.forEach((t=>{const e=t.getAttribute("data-tab");this.deactivateTab(e)}))}deactivateTab(t){const{activeTitle:e,activeContent:s}=this.settings.classes,i=this.elements.tabTitles.find((e=>e.getAttribute("data-tab")===t)),a=this.elements.tabContents.find((e=>e.getAttribute("data-tab-id")===t));i&&i.classList.remove(e),a&&a.classList.remove(s)}activateTab(t){if(null===t)return;const{activeTitle:e,activeContent:s}=this.settings.classes,i=this.elements.tabTitles.find((e=>e.getAttribute("data-tab")===t));this.deactivateAllTabs();const a=this.elements.tabContents[t];i&&i.classList.add(e),i&&a.classList.add(s)}removeListeners(){this.eventListeners.forEach((({element:t,handler:e})=>{t.removeEventListener("click",e)})),this.eventListeners=[]}defaultActiveTab(){const{initialOpen:t}=this.settings,{activeTitle:e,activeContent:s}=this.settings.classes,i=this.elements.tabTitles.findIndex((t=>t.classList.contains(e))),a=this.elements.tabContents.findIndex((t=>t.classList.contains(s)));(t>0&&-1===i||t>0&&-1===a)&&this.activateTab((t-1).toString())}};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".ablocks-block-tabs").forEach((e=>{new t(e,!1)}))}))})();